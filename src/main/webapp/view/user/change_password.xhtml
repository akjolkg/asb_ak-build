<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    template="/WEB-INF/templates/layouts/private.xhtml">
 	<ui:define name="content">
		<h2>#{msgs.changePassword} </h2> <br/><br/>	        
		<h:form id="change-password-form" prependId="false">
			<p:messages/>
		    <h:panelGrid styleClass="form-table">
		    	<h:panelGroup>
			    	<h:panelGroup styleClass="f-left m-right" id="pinGroup">
				    	<h:outputText value="#{msgs.oldPassword}" styleClass="form-table-label disp-blc"/>
				    	<h:inputSecret id="oldpassword" value="#{passwordChanger.oldPassword}" size="20"/>
				    	
			    	</h:panelGroup>
			    	<h:panelGroup styleClass="f-left m-right">
				    	<h:outputText value="#{msgs.newPassword}" styleClass="form-table-label disp-blc"/>
				    	<h:inputSecret id="newPassword" binding="#{passwordComponent}" value="#{passwordChanger.newPassword}" />
				   	</h:panelGroup>
				   	<h:panelGroup styleClass="f-left m-right">
				    	<h:outputText value="Введите новый пароль ещё раз" styleClass="form-table-label disp-blc"/>
					   	<h:inputSecret id="confirmPassword" required="#{not empty passwordComponent.value}"
						    requiredMessage="Введите новый пароль ещё раз" validatorMessage="Новые пароли не совпадают!!!">
						    <f:validator validatorId="duplicateFieldValidator" />
						    <f:attribute name="otherValue" value="#{passwordComponent.value}" />
						</h:inputSecret>
						
					</h:panelGroup>					
				   	
				   	
				   	
				 </h:panelGroup>		    	
		    </h:panelGrid>	
		    
		    <div class="m-top">
		    	<h:commandButton value="#{msgs.change}" action="#{passwordChanger.doChange()}" styleClass="button light-blue"/>
		    	<h:commandButton value="#{msgs.cancel}" action="#{passwordChanger.cancel()}" immediate="true" styleClass="button red  m-left"/>
		    </div>
		    
		</h:form>
			
		<div class="clear"></div>	
				
	</ui:define>	
</ui:composition>